---
import EsriVectorTileViewer from "../components/EsriVectorTileViewer.astro";
import mainCSSURL from "../assets/styles/main.css?url";
import esriCalciteCSSURL from "@esri/calcite-components/dist/calcite/calcite.css?url";
import arcgisMapComponentCSSURL from "@arcgis/map-components/dist/arcgis-map-components/arcgis-map-components.css?url";
import arcgisLightThemeCssURL from "@arcgis/core/assets/esri/themes/light/main.css?url";
import arcgisDarkThemeCssURL from "@arcgis/core/assets/esri/themes/dark/main.css?url";
---

<!doctype html>
<html lang="en">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width" />
      <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
      <meta name="generator" content={Astro.generator} />
      <title>Granice II Rzeczypospolitej</title>
        <link rel="stylesheet" href={mainCSSURL} />
        <link rel="stylesheet" href={esriCalciteCSSURL} />
        <link rel="stylesheet" href={arcgisMapComponentCSSURL} />
        <link
            id="arcgis-maps-sdk-theme-light"
            rel="stylesheet"
            href={arcgisLightThemeCssURL}
        />
        <link
            disabled
            id="arcgis-maps-sdk-theme-dark"
            rel="stylesheet"
            href={arcgisDarkThemeCssURL}
        />
      <script>
         import "@arcgis/map-components/components/arcgis-map";
         import "@arcgis/map-components/components/arcgis-zoom";
         import "@arcgis/map-components/components/arcgis-basemap-toggle";
         import "@arcgis/map-components/components/arcgis-home";
         import "@arcgis/map-components/components/arcgis-layer-list";
         import "@arcgis/map-components/components/arcgis-scale-bar";

         import "@esri/calcite-components/dist/components/calcite-shell";
         import "@esri/calcite-components/dist/components/calcite-navigation";
         import "@esri/calcite-components/dist/components/calcite-navigation-logo";

         import esriConfig from "@arcgis/core/config";
         esriConfig.apiKey = import.meta.env.PUBLIC_ESRI_API_KEY;
      </script>
   </head>
   <body class="h-dvh w-dvw">
      <calcite-shell class="h-dvh w-dvw">
         <calcite-navigation slot="header">
            <calcite-navigation-logo 
               slot="logo" 
               heading="Granice II Rzeczypospolitej" 
            ></calcite-navigation-logo>
         </calcite-navigation>
         <EsriVectorTileViewer
            class="size-full"
            id="arcgis-map-1"
            center="19.4803, 52.0665"
            zoom="5"
         >
            <arcgis-zoom 
               position="top-left"
            ></arcgis-zoom>
            <arcgis-home 
               position="top-left"
            ></arcgis-home>
            <arcgis-basemap-toggle
               position="bottom-right"
            ></arcgis-basemap-toggle>
            <arcgis-layer-list
               position="top-right"
               show-heading
               show-collapse-button
               selection-mode="single"
               drag-enabled
               collapsed
            ></arcgis-layer-list>
            <arcgis-scale-bar
               position="bottom-left"
               bar-style="line"
               unit="metric"
            ></arcgis-scale-bar>
         </EsriVectorTileViewer>
      </calcite-shell>
   </body>
</html>
